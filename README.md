–í–∞—Ä–∏–∞–Ω—Ç ‚Ññ32 --- –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞ ‚Üí XML

------------------------------------------------------------------------
–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è —Å–ª–µ–¥—É—é—â–∏–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

‚ö°remove_comments: –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –æ–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã—Ö (NB., //) –∏ –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã—Ö (/+, +/) –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.

‚ö°GRAMMAR: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ —è–∑—ã–∫–∞ –¥–ª—è Lark.

‚ö°ToAST: –ö–ª–∞—Å—Å-—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä, –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—â–∏–π –¥–µ—Ä–µ–≤–æ Lark –≤ –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–µ –¥–ª—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ AST.

‚ö°Evaluator: –ö–ª–∞—Å—Å –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏ (define).

‚ö°xml_out: –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ XML.

‚ö°main: –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∞—è –≤—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª.

‚ö°–¢–µ—Å—Ç—ã: –ù–∞–±–æ—Ä —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.

------------------------------------------------------------------------

üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

    pip install lark

------------------------------------------------------------------------

‚úÖ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ pytest:

    pip install pytest
    
–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã (—É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ main.py –∏ —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ–¥–Ω–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ):

    pytest

------------------------------------------------------------------------
üìå –ü—Ä–∏–º–µ—Ä –≤—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞:

/+
–≠—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞.
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π.
+/

// –û–±—ä—è–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –Ω–∞ —ç—Ç–∞–ø–µ —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏
(define DEFAULT_PORT 0o1010)
(define ADMIN_LIST @"admin, root")

NB. –≠—Ç–æ –æ–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π

// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
SERVER_NAME = @"web_app_01";
LISTEN_PORT = .(DEFAULT_PORT).; // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É: 520 (0o1010 = 520)

TIMEOUT = 0o777; // –í–æ—Å—å–º–µ—Ä–∏—á–Ω–æ–µ —á–∏—Å–ª–æ: 511

ALLOWED_METHODS = [
    @"GET";
    @"POST";
    @"HEAD"
];

ADMINS = [
    @"john";
    .(ADMIN_LIST).
];

------------------------------------------------------------------------

üìå –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã

    python main.py --input server_config.cfg

------------------------------------------------------------------------
üìå –í—ã–≤–æ–¥ XML

–†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã --- –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π XML —Å
—Ç–∞–±—É–ª—è—Ü–∏–µ–π:

<root>
	<item>
		<number>520</number>
	</item>
	<item>
		<string>admin, root</string>
	</item>
	<item>
		<assign>
			<name>SERVER_NAME</name>
			<string>web_app_01</string>
		</assign>
	</item>
	<item>
		<assign>
			<name>LISTEN_PORT</name>
			<number>520</number>
		</assign>
	</item>
	<item>
		<assign>
			<name>TIMEOUT</name>
			<number>511</number>
		</assign>
	</item>
	<item>
		<assign>
			<name>ALLOWED_METHODS</name>
			<array>
				<string>GET</string>
				<string>POST</string>
				<string>HEAD</string>
			</array>
		</assign>
	</item>
	<item>
		<assign>
			<name>ADMINS</name>
			<array>
				<string>john</string>
				<string>admin, root</string>
			</array>
		</assign>
	</item>
</root>

------------------------------------------------------------------------
üìå –ê–≤—Ç–æ—Ä

–¶–≤–∏–≥—É–Ω –ö.–°. –ò–ö–ë–û-67-24
